<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Drawing App</title>
    <link rel="stylesheet" href="../static/styles.css">
    <script src="https://cdn.socket.io/4.0.1/socket.io.min.js"></script>
    <script src="https://unpkg.com/tesseract.js@v2.1.0/dist/tesseract.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/simplify-js@1.2.4/simplify.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container fade-in">
        <h1>Air Draw</h1>
        
        <div class="controls">
            <button id="modeToggle" class="active">
                <span class="icon">‚úã</span>
                Hand Gesture Mode
            </button>
            <button id="clearButton" class="tooltip">
                <span class="icon">üóëÔ∏è</span>
                Clear Canvas
                <span class="tooltiptext">Clear all drawings</span>
            </button>
            <button id="recognizeText" class="tooltip">
                <span class="icon">üîç</span>
                Recognize Text
                <span class="tooltiptext">Convert drawing to text</span>
            </button>
            <button id="saveDrawing" class="tooltip">
                <span class="icon">üíæ</span>
                Save Drawing
                <span class="tooltiptext">Save current drawing</span>
            </button>
        </div>

        <div class="canvas-container">
            <div style="position: relative;">
                <canvas id="drawingCanvas" width="800" height="500"></canvas>
                <div id="pointer"></div>
            </div>
            <div class="video-container">
<img id="videoFeed" />
                <div class="gesture-info">
                    <h3>Gesture Guide</h3>
                    <ul>
                        <li>‚òùÔ∏è Pointing: Draw</li>
                        <li>üñêÔ∏è Open Palm: Erase</li>
                        <li>‚úä Fist: Stop Drawing</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="text-recognition-container">
            <h3>Recognized Text</h3>
            <div id="recognizedText" class="recognized-text" contenteditable="true"></div>
            <div class="text-actions">
                <button id="copyText" class="tooltip">
                    <span class="icon">üìã</span>
                    Copy Text
                    <span class="tooltiptext">Copy recognized text</span>
                </button>
                <button id="clearText" class="tooltip">
                    <span class="icon">üóëÔ∏è</span>
                    Clear Text
                    <span class="tooltiptext">Clear recognized text</span>
                </button>
            </div>
        </div>

        <div class="toolbar">
            <div class="toolbar-row">
                <div class="color-picker-container">
                    <label for="colorPicker">Color</label>
                    <div class="color-picker" id="colorPickerCircle">
                        <input type="color" id="colorPicker" value="#000000">
                    </div>
                </div>
            </div>

            <div class="toolbar-row">
                <div class="drawing-tools">
                    <button id="pencilTool" class="tool-button pencil active tooltip">
                        <span class="icon">‚úèÔ∏è</span>
                        <span class="tooltiptext">Pencil</span>
                    </button>
                    <button id="brushTool" class="tool-button brush tooltip">
                        <span class="icon">üñåÔ∏è</span>
                        <span class="tooltiptext">Brush</span>
                    </button>
                    <button id="eraserTool" class="tool-button eraser tooltip">
                        <span class="icon">üßπ</span>
                        <span class="tooltiptext">Eraser</span>
                    </button>
                </div>
            </div>

            <div class="toolbar-row">
                <div class="shape-detection-container">
                    <label class="switch tooltip">
                        <input type="checkbox" id="shapeDetectionToggle">
                        <span class="slider round"></span>
                        <span class="tooltiptext">Auto Shape Detection</span>
                    </label>
                    <span class="switch-label">Auto Shape Detection</span>
                </div>
                <div class="grid-mode-container">
                    <label class="switch tooltip">
                        <input type="checkbox" id="gridModeToggle">
                        <span class="slider round"></span>
                        <span class="tooltiptext">Grid Mode</span>
                    </label>
                    <span class="switch-label">Grid Mode</span>
                </div>
            </div>

            <div class="toolbar-row">
                <div class="brush-size-container">
                    <label for="brushSizeSlider">Brush Size: <span id="brushSizeValue">5</span>px</label>
                    <input type="range" min="1" max="50" value="5" class="brush-size-slider" id="brushSizeSlider">
                </div>
            </div>

            <div class="toolbar-row">
                <div class="action-buttons">
                    <button id="undoButton" class="undo-button tooltip">
                        <span class="icon">‚Ü©Ô∏è</span>
                        Undo
                        <span class="tooltiptext">Undo last action (Ctrl+Z)</span>
                    </button>
                    <button id="redoButton" class="redo-button tooltip">
                        <span class="icon">‚Ü™Ô∏è</span>
                        Redo
                        <span class="tooltiptext">Redo last action (Ctrl+Y)</span>
                    </button>
                    <button id="downloadButton" class="download-button tooltip">
                        <span class="icon">‚¨áÔ∏è</span>
                        Download
                        <span class="tooltiptext">Download drawing as PNG</span>
                    </button>
                </div>
            </div>
        </div>
</div>
<script src="../static/scripts.js"></script>
</body>
</html>
